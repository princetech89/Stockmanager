{% extends "base.html" %}

{% block title %}Inventory - Stock Inventory Management{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">Inventory Management</h1>
    <div class="page-actions">
        <button class="btn btn-primary animated" onclick="openAddProductModal()">
            <i class="fas fa-plus"></i>
            Add Product
        </button>
        <button class="btn btn-outline" onclick="exportInventory()">
            <i class="fas fa-download"></i>
            Export
        </button>
    </div>
</div>

<!-- Filters and Search -->
<div class="filters-section">
    <div class="filter-group">
        <input type="text" class="form-control" placeholder="Search products..." id="productSearch">
    </div>
    <div class="filter-group">
        <select class="form-control" id="categoryFilter">
            <option value="">All Categories</option>
        </select>
    </div>
    <div class="filter-group">
        <select class="form-control" id="stockFilter">
            <option value="">All Stock Levels</option>
            <option value="low">Low Stock</option>
            <option value="out">Out of Stock</option>
            <option value="available">In Stock</option>
        </select>
    </div>
    <div class="filter-group">
        <button class="btn btn-secondary" onclick="clearFilters()">
            <i class="fas fa-times"></i>
            Clear
        </button>
    </div>
</div>

<!-- Inventory Table -->
<div class="table-container">
    <table class="data-table" id="inventoryTable">
        <thead>
            <tr>
                <th onclick="sortTable(0)">Product Name <i class="fas fa-sort"></i></th>
                <th onclick="sortTable(1)">SKU <i class="fas fa-sort"></i></th>
                <th onclick="sortTable(2)">HSN Code <i class="fas fa-sort"></i></th>
                <th onclick="sortTable(3)">Category <i class="fas fa-sort"></i></th>
                <th onclick="sortTable(4)">Price (â‚¹) <i class="fas fa-sort"></i></th>
                <th onclick="sortTable(5)">GST (%) <i class="fas fa-sort"></i></th>
                <th onclick="sortTable(6)">Stock <i class="fas fa-sort"></i></th>
                <th onclick="sortTable(7)">Min Qty <i class="fas fa-sort"></i></th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="inventoryTableBody">
            <!-- Product rows will be loaded here -->
        </tbody>
    </table>
</div>

<!-- Pagination -->
<div class="pagination-container">
    <div class="pagination-info">
        Showing <span id="entriesStart">0</span> to <span id="entriesEnd">0</span> of <span id="totalEntries">0</span> entries
    </div>
    <div class="pagination-controls">
        <button class="btn btn-sm btn-outline" id="prevPage" onclick="changePage(-1)">
            <i class="fas fa-chevron-left"></i>
        </button>
        <span class="page-numbers" id="pageNumbers"></span>
        <button class="btn btn-sm btn-outline" id="nextPage" onclick="changePage(1)">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>
</div>
<!-- Animated Side Panel Container -->
<div id="sidePanelBackdrop" class="side-panel-backdrop"></div>
<div id="inventorySidePanel" class="side-panel">
    <!-- Side panel content will be populated by JavaScript -->
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/inventory.js') }}"></script>
{% endblock %}
